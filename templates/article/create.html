<!-- extends表明此页面继承自 base.html 文件 -->
{% extends "base.html" %} {% load static %}
<!-- 写入 base.html 中定义的 title -->
{% block title %} 写文章 {% endblock title %}

{% block css %}
    <link rel="stylesheet" href="{% static 'plugins/editor.md-master/css/editormd.css' %}"/>
    <style>
        #row2 {
            display: none;
        }
    </style>
{% endblock %}


<!-- 写入 base.html 中定义的 content -->
{% block edit %}
    <!-- 写文章表单 -->
    <div class="container">
        <div class="row">
            <div class="col-12">
                <br>
                <!-- 提交文章的表单 -->
                <form method="post" action=".">
                    <!-- Django中需要POST数据的地方都必须有csrf_token -->
                    {% csrf_token %}
                    <!-- 文章标题 -->
                    <div class="form-group" style="width: 400px">
                        <!-- 标签 -->
                        <label for="title"><strong>文章标题</strong></label>
                        <!-- 文本框 -->
                        <input type="text" class="form-control" id="title" name="title">
                    </div>
                    <!-- 文章栏目 -->
                    <div class="form-group" style="width: 400px">
                        <label for="column"><strong>栏目</strong></label>
                        <select class="form-control"
                                id="column"
                                name="column"
                        >
                            <option value="none">请选择栏目..</option>
                            {% for column in columns %}
                                <option value="{{ column.id }}">{{ column }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <!-- 文章正文 -->
                    <div class="form-group">

                        <div  style="display:flex;align-items: baseline;justify-content: space-between;margin-bottom: 10px">
                            <div>
                                <label for="body" ><strong>正文编辑</strong></label>
                            </div>
                            <div style="">
                                <button type="submit" class="btn btn-success" style="margin-right: 10px">保存</button>
                            </div>
                        </div>
                        <!-- 文本区域 -->
                        <div id="test-editor">
                            <textarea class="form-control" type="text" id="body" name="body" rows="12" style="display:none;"></textarea>
                        </div>
                    </div>

                </form>
            </div>
        </div>
    </div>

{% endblock %}


{% block js %}
    <script src="{% static 'plugins/editor.md-master/editormd.min.js' %}"></script>
    <script type="text/javascript">
        $(function () {
            var editor = editormd("test-editor", {
                // width  : "100%",
                height: "700px",
                path: "{% static 'plugins/editor.md-master/lib/' %}",
                emoji: true,
            });
        });
    </script>
{% endblock %}